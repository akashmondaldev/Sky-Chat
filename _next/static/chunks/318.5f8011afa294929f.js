"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{52318:function(e,s,t){t.r(s);var n=t(9268),r=t(86006),l=t(56970),a=t(56008),i=t(63899),c=t(33134),u=t(6936),d=t(5109),o=t(16147),f=t(92621);s.default=e=>{let{conversation:s,friendId:t}=e,h=(0,a.useRouter)(),m=(0,i.Z)(),x=(0,a.useSearchParams)().get("chat"),[g,v]=(0,r.useState)(d.R),b=(0,f.Z)();return(0,r.useEffect)(()=>{let e=(0,u.cf)((0,u.JU)(c.db,"users",t),{includeMetadataChanges:!0},e=>{let s=e.data();s.Conversations.find(e=>e.id===x)&&m.setFriend(s),b.setFriendList(s),v(s)});return()=>e()},[t]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.HC,{className:"flex justify-start items-center my-2  text-ellipsis",onClick:()=>{m.setConversationAndFriend(s,g),h.replace("/?chat=".concat(s.id))},children:[(0,n.jsx)(l.u1,{children:(0,n.jsxs)("div",{className:"relative flex justify-center items-center border-[2px] rounded-full",children:[(0,n.jsx)("div",{className:"absolute right-0 bottom-1 w-3 h-3 rounded-full \n                        ".concat(g.activeUser?"bg-green-500":" bg-red-500")}),(0,n.jsx)("img",{className:"w-14 h-14 rounded-full object-cover border-[1px]",alt:"not found",src:(null==g?void 0:g.image)||"/user.png"})]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.ZT,{variant:"h6",color:"blue-gray",children:(null==g?void 0:g.name)||"User"}),(0,n.jsx)("p",{className:"font-normal text-ellipsis",children:(0,o.$)(null==s?void 0:s.lastMessage)})]})]})})}},16147:function(e,s,t){t.d(s,{$:function(){return n}});function n(e){return e.length>5?e.substring(0,25)+"...":e}}}]);